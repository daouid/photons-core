

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ChangeLog &mdash; Photons 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Photons 0.1 documentation" href="index.html"/>
        <link rel="next" title="photons_app" href="photons_app/index.html"/>
        <link rel="prev" title="Known Issues" href="known_issues.html"/>
   
	<link rel="stylesheet" href="_static/css/styles.css" type="text/css"/>


  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Photons
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="lifx_script.html">LIFX script</a></li>
<li class="toctree-l1"><a class="reference internal" href="tasks.html">Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Making a Photons Script</a></li>
<li class="toctree-l1"><a class="reference internal" href="library.html">Using Photons as a library</a></li>
<li class="toctree-l1"><a class="reference internal" href="venvstarter.html">Using Venvstarter</a></li>
<li class="toctree-l1"><a class="reference internal" href="script_mechanism.html">The Script Mechanism</a></li>
<li class="toctree-l1"><a class="reference internal" href="finding_serials.html">Finding Serials</a></li>
<li class="toctree-l1"><a class="reference internal" href="tile_animations.html">Tile Animations</a></li>
<li class="toctree-l1"><a class="reference internal" href="packets.html">Packets</a></li>
<li class="toctree-l1"><a class="reference internal" href="known_issues.html">Known Issues</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ChangeLog</a></li>
<li class="toctree-l1"><a class="reference internal" href="photons_app/index.html">photons_app</a></li>
<li class="toctree-l1"><a class="reference internal" href="binary_protocol.html">LIFX Binary protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="available_modules.html">Available Photons Modules</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Photons</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>ChangeLog</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/changelog.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="changelog">
<span id="id1"></span><h1>ChangeLog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<dl class="docutils">
<dt>0.9.0 - 17 December 2018</dt>
<dd><p class="first">The photons_messages module is now generated via a process internal to LIFX.
The information required for this will be made public but for now I’m making
the resulting changes to photons.</p>
<p>As part of this change there are some moves and renames to some messages.</p>
<ul class="last simple">
<li>ColourMessages is now LightMessages</li>
<li>LightPower messages are now under LightMessages</li>
<li>Infrared messages are now under LightMessages</li>
<li>Infrared messages now have <cite>brightness</cite> instead of <cite>level</cite></li>
<li>Fixed Acknowledgement message typo</li>
<li>Multizone messages have better names<ul>
<li>SetMultiZoneColorZones -&gt; SetColorZones</li>
<li>GetMultiZoneColorZones -&gt; GetColorZones</li>
<li>StateMultiZoneStateZones -&gt; StateZone</li>
<li>StateMultiZoneStateMultiZones -&gt; StateMultiZone</li>
</ul>
</li>
<li>Tile messages have better names<ul>
<li>GetTileState64 -&gt; GetState64</li>
<li>SetTileState64 -&gt; SetState64</li>
<li>StateTileState64 -&gt; State64</li>
</ul>
</li>
<li>Some reserved fields have more consistent names</li>
<li>SetWaveForm is now SetWaveform</li>
<li>SetWaveFormOptional is now SetWaveformOptional</li>
<li>num_zones field on multizone messages is now zones_count</li>
<li>The type field in SetColorZones was renamed to apply</li>
</ul>
</dd>
<dt>0.8.1 - 2 December 2018</dt>
<dd><ul class="first last simple">
<li>Added twinkles tile animation</li>
<li>Made it a bit easier to start animations programmatically</li>
</ul>
</dd>
<dt>0.8.0 - 29 November 2018</dt>
<dd><ul class="first last">
<li><p class="first">Merging photons_script module into photons_control and photons_transport</p>
</li>
<li><p class="first">Removing the need for the ATarget context manager and replacing it with a
session() context manager on the target itself.</p>
<p>So:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">photons_script.script</span> <span class="kn">import</span> <span class="n">ATarget</span>
<span class="n">async</span> <span class="k">with</span> <span class="n">ATarget</span><span class="p">(</span><span class="n">target</span><span class="p">)</span> <span class="k">as</span> <span class="n">afr</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Becomes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">async</span> <span class="k">with</span> <span class="n">target</span><span class="o">.</span><span class="n">session</span><span class="p">()</span> <span class="k">as</span> <span class="n">afr</span>
    <span class="o">...</span>
</pre></div>
</div>
</li>
<li><p class="first">Pipeline/Repeater/Decider is now in photons_control.script instead of
photons_script.script.</p>
</li>
</ul>
</dd>
<dt>0.7.1 - 29 November 2018</dt>
<dd><ul class="first last simple">
<li>Made it easier to construct a SetWaveFormOptional</li>
<li>Fix handling of sockets when the network goes away</li>
</ul>
</dd>
<dt>0.7.0 - 10 November 2018</dt>
<dd><p class="first">Moved code into <code class="docutils literal"><span class="pre">photons_control</span></code> and <code class="docutils literal"><span class="pre">photons_messages</span></code>. This means
<code class="docutils literal"><span class="pre">photons_attributes</span></code>, <code class="docutils literal"><span class="pre">photons_device_messages</span></code>, <code class="docutils literal"><span class="pre">photons_tile_messages</span></code>
and <code class="docutils literal"><span class="pre">photons_transform</span></code> no longer exist.</p>
<p>Anything related to messages in those modules (and in <code class="docutils literal"><span class="pre">photons_sockets.messages</span></code>
is now in <code class="docutils literal"><span class="pre">photons_messages</span></code>.</p>
<p class="last">Everything else in those modules, and the actions from <code class="docutils literal"><span class="pre">photons_protocol</span></code>
are now in <code class="docutils literal"><span class="pre">photons_control</span></code>.</p>
</dd>
<dt>0.6.3 - 10 November 2018</dt>
<dd><ul class="first last simple">
<li>Fix potential hang when connecting to a device (very unlikely error case,
but now it’s handled).</li>
<li>Moved the __or__ functionality on packets onto the LIFXPacket object as
it’s implementation depended on fields specifically on LIFXPacket. This
is essentially a no-op within photons.</li>
<li>Added a create helper to TransportTarget</li>
</ul>
</dd>
<dt>0.6.2 - 22 October 2018</dt>
<dd><ul class="first last simple">
<li>Fixed cleanup logic</li>
<li>Make products registry aware of kelvin ranges</li>
<li>Made defaults for values in a message definition go through the spec for
that field when no value is specified</li>
<li>Don’t raise an error if we can’t find any devices, instead respect the
error_catcher option and only raise errors for not finding each serial that
we couldn’t find</li>
</ul>
</dd>
<dt>0.6.1 - 1 September 2018</dt>
<dd><ul class="first last simple">
<li>Added the tile_gameoflife task for doing a Conway’s game of life simulation
on your tiles.</li>
</ul>
</dd>
<dt>0.6 - 26 August 2018</dt>
<dd><ul class="first last simple">
<li>Cleaned up the code that handles retries and multiple replies<ul>
<li>multiple_replies, first_send and first_wait are no longer options
for run_with as they are no longer necessary</li>
<li>The packet definition now includes options for specifying how many
packets to expect</li>
</ul>
</li>
<li>When error_catcher to run_with is a callable, it is called straight away
with all errors instead of being put onto the asyncio loop to be called
soon. This means when you have awaited on run_with, you know that all
errors have been given to the error_catcher</li>
<li>Remove uvloop altogether. I don’t think it is actually necessary and it
would break after the process was alive long enough. Also it’s disabled
for windows anyway, and something that needs to be compiled at
installation.</li>
<li>collector.configuration[“final_future”] is now the Future object itself
rather than a function returning the future.</li>
<li>Anything inheriting from TransportTarget now has <code class="docutils literal"><span class="pre">protocol_register</span></code>
attribute instead of <code class="docutils literal"><span class="pre">protocols</span></code> and <code class="docutils literal"><span class="pre">final_future</span></code> instead of
<code class="docutils literal"><span class="pre">final_fut_finder</span></code></li>
<li>Updated delfick_app to give us a –json-console-logs argument for showing
logs as json lines</li>
</ul>
</dd>
<dt>0.5.11 - 28 July 2018</dt>
<dd><ul class="first last simple">
<li>Small fix to the version_number_spec for defining a version number on a
protocol message</li>
<li>Made uvloop optional. To turn it off put <code class="docutils literal"><span class="pre">photons_app:</span> <span class="pre">{use_uvloop:</span> <span class="pre">false}</span></code>
in your configuration.</li>
</ul>
</dd>
<dt>0.5.10 - 22 July 2018</dt>
<dd><ul class="first last simple">
<li>Made version in StateHostFirmware and StateWifiFirmware a string instead
of a float to tell the difference between “1.2” and “1.20”</li>
<li>Fix leaks of asyncio.Task objects</li>
</ul>
</dd>
<dt>0.5.9 - 15 July 2018</dt>
<dd><ul class="first last simple">
<li>Fixed a bug in the task runner such where a future could be given a result
even though it was already done.</li>
<li>Made photons_app.helpers.ChildOfFuture behave as if it was cancelled when
the parent future gets a non exception result. This is because ChildOfFuture
is used to propagate errors/cancellation rather than propagate results.</li>
<li>Upgraded PyYaml and uvloop so that you can install this under python3.7</li>
<li>Fixes to make photons compatible with python3.7</li>
</ul>
</dd>
<dt>0.5.8 - 1 July 2018</dt>
<dd><ul class="first last simple">
<li>Fixed a bug I introduced in the Transformer in 0.5.7</li>
</ul>
</dd>
<dt>0.5.7 - 1 July 2018</dt>
<dd><ul class="first last simple">
<li>Fixed the FakeTarget in photons_app.test_helpers to deal with errors
correctly</li>
<li>Made <code class="docutils literal"><span class="pre">photons_transform.transformer.Transformer</span></code> faster for most cases
by making it not check the current state of the device when it doesn’t
need to</li>
</ul>
</dd>
<dt>0.5.6 - 23 June 2018</dt>
<dd><ul class="first last simple">
<li>photons_script.script.Repeater can now be stopped by raising Repater.Stop()
in the on_done_loop callback</li>
<li>DeviceFinder can now be used to target specific serials</li>
</ul>
</dd>
<dt>0.5.5 - 16 June 2018</dt>
<dd><ul class="first last simple">
<li>Small fix to how as_dict() on a packet works so it does the right thing
for packets that contain lists in the payload.</li>
<li>Added direction option to the marquee tile animation</li>
<li>Added nyan tile animation</li>
</ul>
</dd>
<dt>0.5.4 - 28 April 2018</dt>
<dd><ul class="first last">
<li><p class="first">You can now specify <code class="docutils literal"><span class="pre">(&quot;lifx.photon&quot;,</span> <span class="pre">&quot;__all__&quot;)</span></code> as a dependency and all
photons modules will be seen as a dependency of your script.</p>
<p>Note however that you should not do this in a module you expect to be used
as a dependency by another module (otherwise you’ll get cyclic dependencies).</p>
</li>
</ul>
</dd>
<dt>0.5.3 - 22 April 2018</dt>
<dd><ul class="first last simple">
<li>Tiny fix to TileState64 message</li>
</ul>
</dd>
<dt>0.5.2 - 21 April 2018</dt>
<dd><ul class="first last simple">
<li>Small fixes to the tile animations</li>
</ul>
</dd>
<dt>0.5.1 - 31 March 2018</dt>
<dd><ul class="first last simple">
<li>Tile animations</li>
<li>Added a <code class="docutils literal"><span class="pre">serial</span></code> property to packets that returns the hexlified target
i.e. “d073d5000001” or None if target isn’t set on the packet</li>
<li>Now installs and runs on Windows.</li>
</ul>
</dd>
<dt>0.5 - 19 March 2018</dt>
<dd>Initial opensource release after over a year of internal development.</dd>
</dl>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="photons_app/index.html" class="btn btn-neutral float-right" title="photons_app" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="known_issues.html" class="btn btn-neutral" title="Known Issues" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Stephen Moore.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>